{% layout 'layout.liquid' %}
{% block content %}
  {% # need two elements: the FORM(left) and the CARDS(right) %}
  <div class="mtg-inflx-container mtg-display-width">
    {% # FORM %}
    {% # 'left' side of screen %}
    {% # DETAILS on top %}
    <div class="mtg-display-left">
      <div class="mtg-form">
        <form action="/decks/{{deck.id}}?_method=PUT" method="POST">
          <fieldset>
            <legend>
              <h2>Edit Deck</h2>
            </legend>
            <div class="mtg-elem">
              <label class="form-label">Deck Name:
              </label>
              <input
                type="text"
                name="name"
                placeholder="{{ deck.name }}"
                class="form-control">
            </div>
            <div class="mtg-elem">
              <label class="form-label">Description:</label>
              <textarea class="form-control" name="description" rows="12" cols="22" maxlength="100" placeholder="{{deck.description}}"></textarea>
            </div>
          </fieldset>
          <div class="btn-container-inline">
            <input
              type="submit"
              value="Save"
              class="mtg-btn-p">
          </div>
        </form>
        <div class="mtg-card-list">
          {% for card in deck.cards %}
            <h4>{{card.name}}</h4>
          {% endfor %}
        </div>
      </div>
      {% # chosen CARDS listed on the bottom %}
      {% # grid with one element (1fr) per row %}
    </div>
    {% # CARDS grid %}
    <div class="mtg-display-right">
      {% # since only 100 cards may be pulled from the api at a time %}
      {% # set up a filter by color %}
      {% # <div class="mtg-form">
        
        #<form action="/decks/new" method="GET">
         # <fieldset>
          #  <legend>
           #   <h2>Filter card by color, land, or artifact</h2>
            
           #</legend>
            #<div class="mtg-elem">
             # <label class="form-label">Options:
              #</label>
             # <select name="cardfilter" class="form-control">
              #  <option value="B" selected>Black Cards</option>
               # <option value="U">Blue Cards</option>
                #<option value="G">Green Cards</option>
                #<option value="R">Red Cards</option>
                #<option value="W">White Cards</option>
                #</select>
            #</div>
          #</fieldset>
          #<div class="btn-container-block">
            #<input
              #type="submit"
              #value="Filter"
              #class="mtg-btn-p">
          #</div>
        #</form>
      #</div> %}
      <div class="mtg-cards-grid">
      {% if cards.length > 0 %}
        {% for card in cards %}
          <div class="mtg-card-add">
            <img src="{{card.image}}" width="200"></img>
            <form action="/cards/{{ deck.id }}" method="POST">
              <input hidden name="name" value="{{card.name}}">
              <input hidden name= "mtgId" value="{{card.id}}">
              <input hidden name="image" value="{{card.image}}">
              <input hidden name="count" value="1">
              <input
                type="submit"
                class="mtg-btn-sm-p"
                value="Add">
            </form>
          </div>
        {% endfor %}
      {% else %}
      {% endif %}
      </div>
    </div>
  </div>
{% endblock %}